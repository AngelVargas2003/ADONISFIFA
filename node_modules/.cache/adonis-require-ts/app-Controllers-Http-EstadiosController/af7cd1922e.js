"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const Database_1 = __importDefault(global[Symbol.for('ioc.use')]("Adonis/Lucid/Database"));
const Estadio_1 = __importDefault(global[Symbol.for('ioc.use')]("App/Models/Estadio"));
class EstadiosController {
    async store({ auth, request, response }) {
        const Estadios = new Estadio_1.default();
        const Nombre = request.input('Nombre');
        const Ubicacion = request.input('Ubicacion');
        try {
            await auth.use('api').authenticate();
            Estadios.Nombre = Nombre;
            Estadios.Ubicacion = Ubicacion;
            await Estadios.save();
            return response.status(200);
        }
        catch {
            return response.badRequest('No tienes permisos');
        }
    }
    async show({ auth, response }) {
        try {
            await auth.use('api').authenticate();
            console.log(auth.use('api').user);
            const Estadios = Database_1.default.query()
                .from('estadios')
                .select('estadios.id')
                .select('estadios.Nombre_Estadio as Nombre')
                .select('estadios.Ubicacion_Estadio as Ubicacion');
            return Estadios;
        }
        catch {
            response.badRequest('No tienes permiso');
        }
    }
    async update({ auth, request, response }) {
        const id = request.input('id');
        const Nombre = request.input('Nombre');
        const Ubicacion = request.input('Ubicacion');
        try {
            await auth.use('api').authenticate();
            console.log(auth.use('api').user);
            const Estadios = await Estadio_1.default.findOrFail(id);
            Estadios.Nombre = Nombre;
            Estadios.Ubicacion = Ubicacion;
            await Estadios.save();
        }
        catch {
            return response.badRequest('ERROR');
        }
    }
    async delete({ auth, request, response }) {
        const id = request.input('id');
        try {
            await auth.use('api').authenticate();
            console.log(auth.use('api').user);
            const Estadios = await Estadio_1.default.findOrFail(id);
            await Estadios.delete();
        }
        catch {
            return response.badRequest('ERROR');
        }
    }
}
exports.default = EstadiosController;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRXN0YWRpb3NDb250cm9sbGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiRXN0YWRpb3NDb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQ0EsMkZBQWtEO0FBQ2xELHVGQUF5QztBQUN6QyxNQUFxQixrQkFBa0I7SUFFNUIsS0FBSyxDQUFDLEtBQUssQ0FBQyxFQUFDLElBQUksRUFBQyxPQUFPLEVBQUMsUUFBUSxFQUFDO1FBRXRDLE1BQU0sUUFBUSxHQUFDLElBQUksaUJBQU8sRUFBRSxDQUFBO1FBQzVCLE1BQU0sTUFBTSxHQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUE7UUFDcEMsTUFBTSxTQUFTLEdBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsQ0FBQTtRQUMxQyxJQUNBO1lBQ0ksTUFBTSxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLFlBQVksRUFBRSxDQUFBO1lBQ3BDLFFBQVEsQ0FBQyxNQUFNLEdBQUMsTUFBTSxDQUFBO1lBQ3RCLFFBQVEsQ0FBQyxTQUFTLEdBQUMsU0FBUyxDQUFBO1lBQzVCLE1BQU0sUUFBUSxDQUFDLElBQUksRUFBRSxDQUFBO1lBQ3JCLE9BQU8sUUFBUSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQTtTQUM5QjtRQUFBLE1BQ0Q7WUFDSSxPQUFPLFFBQVEsQ0FBQyxVQUFVLENBQUMsb0JBQW9CLENBQUMsQ0FBQTtTQUNuRDtJQUNMLENBQUM7SUFDTSxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUMsSUFBSSxFQUFDLFFBQVEsRUFBQztRQUU3QixJQUNBO1lBQ0ksTUFBTSxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLFlBQVksRUFBRSxDQUFBO1lBQ3BDLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFLLENBQUMsQ0FBQTtZQUNsQyxNQUFNLFFBQVEsR0FBQyxrQkFBUSxDQUFDLEtBQUssRUFBRTtpQkFDOUIsSUFBSSxDQUFDLFVBQVUsQ0FBQztpQkFDaEIsTUFBTSxDQUFDLGFBQWEsQ0FBQztpQkFDckIsTUFBTSxDQUFDLG1DQUFtQyxDQUFDO2lCQUMzQyxNQUFNLENBQUMseUNBQXlDLENBQUMsQ0FBQTtZQUNsRCxPQUFPLFFBQVEsQ0FBQTtTQUNsQjtRQUFBLE1BQ0Q7WUFDSSxRQUFRLENBQUMsVUFBVSxDQUFDLG1CQUFtQixDQUFDLENBQUE7U0FDM0M7SUFDTCxDQUFDO0lBQ00sS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFDLElBQUksRUFBQyxPQUFPLEVBQUMsUUFBUSxFQUFDO1FBRXZDLE1BQU0sRUFBRSxHQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUE7UUFDNUIsTUFBTSxNQUFNLEdBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQTtRQUNwQyxNQUFNLFNBQVMsR0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFBO1FBQzFDLElBQ0E7WUFDSSxNQUFNLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsWUFBWSxFQUFFLENBQUE7WUFDcEMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUssQ0FBQyxDQUFBO1lBQ2xDLE1BQU0sUUFBUSxHQUFDLE1BQU0saUJBQU8sQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLENBQUE7WUFDM0MsUUFBUSxDQUFDLE1BQU0sR0FBQyxNQUFNLENBQUE7WUFDdEIsUUFBUSxDQUFDLFNBQVMsR0FBQyxTQUFTLENBQUE7WUFDNUIsTUFBTSxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUE7U0FDeEI7UUFBQSxNQUNEO1lBQ0ksT0FBTyxRQUFRLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1NBQ3RDO0lBQ0wsQ0FBQztJQUNNLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBQyxJQUFJLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQztRQUV2QyxNQUFNLEVBQUUsR0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFBO1FBQzVCLElBQ0E7WUFDSSxNQUFNLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsWUFBWSxFQUFFLENBQUE7WUFDcEMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUssQ0FBQyxDQUFBO1lBQ2xDLE1BQU0sUUFBUSxHQUFDLE1BQU0saUJBQU8sQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDLENBQUE7WUFDM0MsTUFBTSxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUE7U0FDMUI7UUFBQSxNQUNEO1lBQ0ksT0FBTyxRQUFRLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1NBQ3RDO0lBQ0wsQ0FBQztDQUNKO0FBcEVELHFDQW9FQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGltcG9ydCB0eXBlIHsgSHR0cENvbnRleHRDb250cmFjdCB9IGZyb20gJ0Bpb2M6QWRvbmlzL0NvcmUvSHR0cENvbnRleHQnXG5pbXBvcnQgRGF0YWJhc2UgZnJvbSBcIkBpb2M6QWRvbmlzL0x1Y2lkL0RhdGFiYXNlXCI7XG5pbXBvcnQgRXN0YWRpbyBmcm9tIFwiQXBwL01vZGVscy9Fc3RhZGlvXCI7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFc3RhZGlvc0NvbnRyb2xsZXIgXG57XG4gICAgcHVibGljIGFzeW5jIHN0b3JlKHthdXRoLHJlcXVlc3QscmVzcG9uc2V9KVxuICAgIHtcbiAgICAgICAgY29uc3QgRXN0YWRpb3M9bmV3IEVzdGFkaW8oKVxuICAgICAgICBjb25zdCBOb21icmU9cmVxdWVzdC5pbnB1dCgnTm9tYnJlJylcbiAgICAgICAgY29uc3QgVWJpY2FjaW9uPXJlcXVlc3QuaW5wdXQoJ1ViaWNhY2lvbicpXG4gICAgICAgIHRyeVxuICAgICAgICB7XG4gICAgICAgICAgICBhd2FpdCBhdXRoLnVzZSgnYXBpJykuYXV0aGVudGljYXRlKClcbiAgICAgICAgICAgIEVzdGFkaW9zLk5vbWJyZT1Ob21icmVcbiAgICAgICAgICAgIEVzdGFkaW9zLlViaWNhY2lvbj1VYmljYWNpb25cbiAgICAgICAgICAgIGF3YWl0IEVzdGFkaW9zLnNhdmUoKVxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDApXG4gICAgICAgIH1jYXRjaFxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuYmFkUmVxdWVzdCgnTm8gdGllbmVzIHBlcm1pc29zJylcbiAgICAgICAgfVxuICAgIH1cbiAgICBwdWJsaWMgYXN5bmMgc2hvdyh7YXV0aCxyZXNwb25zZX0pXG4gICAge1xuICAgICAgICB0cnlcbiAgICAgICAge1xuICAgICAgICAgICAgYXdhaXQgYXV0aC51c2UoJ2FwaScpLmF1dGhlbnRpY2F0ZSgpXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhhdXRoLnVzZSgnYXBpJykudXNlciEpXG4gICAgICAgICAgICBjb25zdCBFc3RhZGlvcz1EYXRhYmFzZS5xdWVyeSgpXG4gICAgICAgICAgICAuZnJvbSgnZXN0YWRpb3MnKVxuICAgICAgICAgICAgLnNlbGVjdCgnZXN0YWRpb3MuaWQnKVxuICAgICAgICAgICAgLnNlbGVjdCgnZXN0YWRpb3MuTm9tYnJlX0VzdGFkaW8gYXMgTm9tYnJlJylcbiAgICAgICAgICAgIC5zZWxlY3QoJ2VzdGFkaW9zLlViaWNhY2lvbl9Fc3RhZGlvIGFzIFViaWNhY2lvbicpXG4gICAgICAgICAgICByZXR1cm4gRXN0YWRpb3NcbiAgICAgICAgfWNhdGNoXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlc3BvbnNlLmJhZFJlcXVlc3QoJ05vIHRpZW5lcyBwZXJtaXNvJylcbiAgICAgICAgfVxuICAgIH1cbiAgICBwdWJsaWMgYXN5bmMgdXBkYXRlKHthdXRoLHJlcXVlc3QscmVzcG9uc2V9KVxuICAgIHtcbiAgICAgICAgY29uc3QgaWQ9cmVxdWVzdC5pbnB1dCgnaWQnKVxuICAgICAgICBjb25zdCBOb21icmU9cmVxdWVzdC5pbnB1dCgnTm9tYnJlJylcbiAgICAgICAgY29uc3QgVWJpY2FjaW9uPXJlcXVlc3QuaW5wdXQoJ1ViaWNhY2lvbicpXG4gICAgICAgIHRyeVxuICAgICAgICB7XG4gICAgICAgICAgICBhd2FpdCBhdXRoLnVzZSgnYXBpJykuYXV0aGVudGljYXRlKClcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGF1dGgudXNlKCdhcGknKS51c2VyISlcbiAgICAgICAgICAgIGNvbnN0IEVzdGFkaW9zPWF3YWl0IEVzdGFkaW8uZmluZE9yRmFpbChpZClcbiAgICAgICAgICAgIEVzdGFkaW9zLk5vbWJyZT1Ob21icmVcbiAgICAgICAgICAgIEVzdGFkaW9zLlViaWNhY2lvbj1VYmljYWNpb25cbiAgICAgICAgICAgIGF3YWl0IEVzdGFkaW9zLnNhdmUoKVxuICAgICAgICB9Y2F0Y2hcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmJhZFJlcXVlc3QoJ0VSUk9SJylcbiAgICAgICAgfVxuICAgIH1cbiAgICBwdWJsaWMgYXN5bmMgZGVsZXRlKHthdXRoLHJlcXVlc3QscmVzcG9uc2V9KVxuICAgIHtcbiAgICAgICAgY29uc3QgaWQ9cmVxdWVzdC5pbnB1dCgnaWQnKVxuICAgICAgICB0cnlcbiAgICAgICAge1xuICAgICAgICAgICAgYXdhaXQgYXV0aC51c2UoJ2FwaScpLmF1dGhlbnRpY2F0ZSgpXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhhdXRoLnVzZSgnYXBpJykudXNlciEpXG4gICAgICAgICAgICBjb25zdCBFc3RhZGlvcz1hd2FpdCBFc3RhZGlvLmZpbmRPckZhaWwoaWQpXG4gICAgICAgICAgICBhd2FpdCBFc3RhZGlvcy5kZWxldGUoKVxuICAgICAgICB9Y2F0Y2hcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmJhZFJlcXVlc3QoJ0VSUk9SJylcbiAgICAgICAgfVxuICAgIH1cbn1cbiJdfQ==